<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>Panel de Control ‚Äî Latam5S</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Google Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>

<style>
    :root {
        --bg: #fffaf6;
        --card: #ffffff;
        --text: #2b2b2b;
        --muted: #6b6b6b;
        --accent: #D96B4F;
        --accent-alt: '#FF8B6A';
        --radius: 14px;
        --border-color: rgba(0,0,0,0.08);
        font-family: "Quicksand", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    
    html { scroll-behavior: smooth; }

    body{
        background: var(--bg);
        color: var(--text);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        line-height: 1.6;
    }

    /* ---------- HEADER ---------- */
    header {
        background:linear-gradient(90deg,var(--accent),#FF8B6A);
        color:#fff;
        padding:18px 24px;
        box-shadow:0 6px 20px rgba(217,107,79,0.25);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
    }
    #headerLogo {
        height: 50px;
        border-radius: 8px;
        display: none;
        object-fit: cover;
        background-color: white;
    }
    header h1{margin:0;font-size:22px;font-weight:700;}
    header p{margin:4px 0 0;font-size:14px;opacity:.9;}

    /* ---------- NAV ---------- */
    nav{
        background:#fff;
        border-bottom:1px solid var(--border-color);
        display:flex;
        gap: 10px;
        padding: 12px 20px;
        justify-content: center;
        position: sticky;
        top: 0;
        z-index: 100;
        backdrop-filter: blur(8px);
        background-color: rgba(255,255,255,0.8);
    }
    nav a{
        color: var(--muted);
        text-decoration:none;
        font-weight:600;
        font-size:14px;
        transition: color 0.2s;
        padding: 8px 12px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        gap: 6px;
    }
    nav a:hover{ color:var(--text); }
    nav a.active {
        background-color: #fff3ef;
        color: var(--accent);
    }

    /* ---------- CONTENIDO PRINCIPAL ---------- */
    main{ padding: 24px; max-width: 1200px; margin:auto; }
    main > section { display: none; }
    main > section.active { display: block; }
    
    h2{
        margin:0 0 16px;
        font-size:24px;
        color:var(--accent);
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .card{
        background:var(--card);
        border-radius:var(--radius);
        box-shadow:0 10px 30px rgba(15,20,25,0.05);
        padding:24px;
        border:1px solid var(--border-color);
        margin-bottom: 24px;
    }

    /* ---------- BOTONES & INPUTS ---------- */
    .acciones{ display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end;margin-bottom:16px; }
    
    .btn{
        border:0;
        padding:10px 16px;
        border-radius:10px;
        cursor:pointer;
        font-weight:700;
        transition: all .2s;
        font-family: inherit;
        font-size: 14px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
    }
    .btn.primary{
        background:linear-gradient(90deg,var(--accent),#FF8B6A);
        color:#fff;
        box-shadow:0 4px 10px rgba(217,107,79,0.2);
    }
    .btn.primary:hover{ transform: translateY(-2px); box-shadow:0 6px 14px rgba(217,107,79,0.3); }
    .btn.ghost{
        background:transparent;
        border: 1px solid var(--border-color);
        color:var(--text);
    }
    .btn.ghost:hover{background:#f8f9fa; border-color: #ccc;}

    .input, .select {
        padding:10px;
        border:1px solid var(--border-color);
        border-radius:10px;
        background:#fff;
        font-family:inherit;
        width: 100%;
        font-size: 14px;
    }
    .input:focus, .select:focus {
        outline: none;
        border-color: var(--accent);
        box-shadow: 0 0 0 3px #ffe8e1;
    }
    .form-group { margin-bottom: 16px; }
    .form-group label {
        display: block;
        font-size: 14px;
        color: var(--muted);
        font-weight: 600;
        margin-bottom: 6px;
    }

    /* ---------- FILTROS & LOTE ---------- */
    .filtros{ display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin:10px 0 20px; }
    .filtros label { font-size:13px;color:var(--muted);font-weight:600; }
    .filtros input,.filtros select { padding:9px; border-radius:10px; font-family:inherit; }

    .lote{ display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:12px 0 16px; }
    .lote-left,.lote-right{ display:flex;gap:10px;align-items:center;flex-wrap:wrap; }

    /* ---------- TABLA ---------- */
    .table-wrapper { overflow-x: auto; }
    table{ width:100%; border-collapse:collapse; background:#fff; border-radius:var(--radius); overflow:hidden; box-shadow:0 6px 20px rgba(15,20,25,0.04); }
    th,td{ border-top:1px solid var(--border-color); padding:12px 14px; text-align:left; font-size:13px; vertical-align:middle; }
    thead th{ background:#fff8f6; color:var(--accent); font-size:12px; font-weight:700; text-transform: uppercase; letter-spacing:0.5px; }
    tbody tr:hover{ background:#fffaf6; }
    .nowrap{white-space:nowrap;}

    /* ---------- BADGES & OTROS ---------- */
    .badge{ padding:4px 10px; border-radius:999px; font-size:12px; font-weight:700; display:inline-block; border:1px solid; }
    .b-pendiente{ background:#fff6e6; color:#9a6200; border-color: #ffd899; }
    .b-enviado{ background:#fce8e2; color:var(--accent); border-color: #ffd3c1; }
    .b-entregado{ background:#e9f8ee; color:#1b7f3a; border-color: #bfe7cd; }
    .b-reprogramado{ background:#f3e9f9; color:#8e44ad; border-color: #d7bde2; }
    
    .toast{ position:fixed; right:20px; bottom:20px; background:linear-gradient(90deg,var(--accent),#FF8B6A); color:#fff; padding:12px 20px; border-radius:12px; box-shadow:0 8px 20px rgba(217,107,79,0.25); opacity:0; transform:translateY(10px); transition: all .3s ease-out; z-index: 1000;}
    .toast.show{ opacity:1; transform:translateY(0); }

    .oculto{ display: none !important;}
    footer{
        margin-top:80px;
        padding-bottom:20px;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 8px;
        color: var(--muted);
        font-size: 14px;
    }
    
    /* Grid Layout para Secciones */
    .grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
    
    /* Estilos para secci√≥n Link M√°gico */
    #linkUnicoContainer { display: flex; gap: 10px; }
    #linkUnicoInput { flex-grow: 1; background-color: #f8f9fa; }

    /* Estilos para Reportes */
    .stat-card { text-align: center; background-color: #fff8f6; padding: 20px; border-radius: var(--radius); }
    .stat-card .value { font-size: 36px; font-weight: 700; color: var(--accent); }
    .stat-card .label { font-size: 14px; color: var(--muted); }

    /* Estilos para Configuraci√≥n */
    .setting-card { display: flex; flex-direction: column; gap: 15px; }
    #logoPreview { max-height: 80px; border-radius: 8px; object-fit: contain; border: 1px dashed var(--border-color); padding: 5px; display: none; margin-top: 10px;}

    @media (max-width: 768px) {
        nav { flex-wrap: wrap; gap: 5px; }
        nav a { flex-grow: 1; justify-content: center; }
        .filtros, .lote { flex-direction: column; align-items: stretch; }
        .lote-right { justify-content: flex-end; }
    }
</style>
</head>
<body>
    <header>
        <img id="headerLogo" src="" alt="Logo Emprendimiento">
        <div>
            <h1 id="headerTitle">üìã Panel de Control</h1>
            <p>Bienvenido, <strong id="headerBusinessName">[Nombre del emprendimiento]</strong></p>
        </div>
    </header>

    <nav>
        <a href="#envios" class="nav-link active"><i data-feather="truck"></i>Env√≠os</a>
        <a href="#link" class="nav-link"><i data-feather="link"></i>Link M√°gico</a>
        <a href="#reportes" class="nav-link"><i data-feather="bar-chart-2"></i>Reportes</a>
        <a href="#cuenta" class="nav-link"><i data-feather="settings"></i>Mi Cuenta</a>
    </nav>

    <main>
        <!-- ======================= SECCI√ìN ENV√çOS ======================= -->
        <section class="active" id="envios">
            <div class="card">
                <h2><i data-feather="truck"></i>Mis Env√≠os</h2>
                <div class="acciones">
                    <button class="btn ghost" id="btnTplShalom"><i data-feather="download"></i>Plantilla SHALOM</button>
                    <button class="btn ghost" id="btnTplOlva"><i data-feather="download"></i>Plantilla OLVA</button>
                    <button class="btn primary" id="btnEtiquetas"><i data-feather="tag"></i>Imprimir Etiquetas</button>
                </div>
                <div class="filtros">
                    <label>Cliente (Celular)<input type="text" id="filtroCliente" placeholder="Ej: 987654321" class="input" /></label>
                    <label>Fecha de Env√≠o<input type="date" id="filtroFecha" class="input" /></label>
                    <label>Courier
                        <select id="filtroTipo" class="select">
                            <option value="">Todos</option>
                            <option value="DELIVERY">Delivery Propio</option>
                            <option value="SHALOM">Shalom</option>
                            <option value="OLVA">Olva</option>
                        </select>
                    </label>
                    <button class="btn primary" id="btnAplicarFiltros">Filtrar</button>
                </div>
                <div class="lote">
                    <div class="lote-left">
                        <label class="nowrap"><input type="checkbox" id="checkTodos" /> Seleccionar todo</label>
                        <span style="color:var(--muted);font-size:13px" id="selCount">0 seleccionados</span>
                    </div>
                    <div class="lote-right">
                        <select id="accionLote" class="select">
                            <option value="" selected>Acci√≥n en lote‚Ä¶</option>
                            <option value="ENVIADO">Marcar como Enviado</option>
                            <option value="ENTREGADO">Marcar como Entregado</option>
                            <option value="REPROGRAMADO">Reprogramar</option>
                        </select>
                        <input type="date" id="fechaReprog" class="input oculto" />
                        <button class="btn primary" id="btnAplicarLote">Aplicar</button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table id="tablaEnvios">
                        <thead>
                            <tr>
                                <th style="width:36px"><input type="checkbox" id="thCheckTodos" /></th>
                                <th>Fecha Reg.</th>
                                <th>Cliente</th>
                                <th>Courier</th>
                                <th>Destinatario</th>
                                <th class="col-distrito">Distrito</th>
                                <th class="col-direccion">Direcci√≥n</th>
                                <th class="col-dni">DNI/CE</th>
                                <th class="col-agencia">Agencia</th>
                                <th>Fecha Env√≠o</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody id="tbodyEnvios">
                            <!-- JS llenar√° esta tabla -->
                            <tr><td colspan="11" style="text-align:center;padding:40px;color:var(--muted);">No hay env√≠os para mostrar.</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- ======================= SECCI√ìN LINK M√ÅGICO ======================= -->
        <section id="link">
            <div class="card">
                <h2><i data-feather="link"></i>Tu Enlace M√°gico</h2>
                <p class="text-muted" style="margin-bottom: 20px;">Comparte este link √∫nico con tus clientes. Ellos completar√°n sus datos de env√≠o directamente y la informaci√≥n aparecer√° en tu panel, ¬°sin errores y sin que tengas que transcribir nada!</p>
                <div class="form-group">
                    <label for="linkUnicoInput">Tu enlace personal</label>
                    <div id="linkUnicoContainer">
                        <input type="text" id="linkUnicoInput" class="input" value="https://latam5s.com/form/tu-tienda" readonly>
                        <button class="btn primary" id="btnCopiarLink"><i data-feather="copy"></i>Copiar</button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- ======================= SECCI√ìN REPORTES ======================= -->
        <section id="reportes">
             <div class="card">
                <h2><i data-feather="bar-chart-2"></i>Reportes (Este Mes)</h2>
                <div class="grid-container">
                    <div class="stat-card">
                        <div class="value" id="statTotal">128</div>
                        <div class="label">Env√≠os Totales</div>
                    </div>
                    <div class="stat-card">
                        <div class="value" id="statPendientes">15</div>
                        <div class="label">Pendientes</div>
                    </div>
                    <div class="stat-card">
                        <div class="value" id="statCompletados">113</div>
                        <div class="label">Completados</div>
                    </div>
                     <div class="stat-card">
                        <div class="value" id="statCourier">Shalom</div>
                        <div class="label">Courier M√°s Usado</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ======================= SECCI√ìN MI CUENTA ======================= -->
        <section id="cuenta">
            <h2><i data-feather="settings"></i>Configuraci√≥n de tu Cuenta</h2>
            <div class="grid-container">
                <div class="card setting-card">
                    <h3><i data-feather="briefcase"></i> Perfil del Negocio</h3>
                    <div class="form-group">
                        <label for="businessName">Nombre del Emprendimiento</label>
                        <input type="text" id="businessName" class="input" placeholder="Ej: La Tiendita de Ana">
                    </div>
                    <div class="form-group">
                        <label for="logoInput">Logo del Negocio</label>
                        <input type="file" id="logoInput" class="input" accept="image/*">
                        <img id="logoPreview" src="" alt="Vista previa del logo">
                    </div>
                </div>

                <div class="card setting-card">
                    <h3><i data-feather="package"></i> Opciones de Env√≠o</h3>
                    <p style="font-size:14px; color:var(--muted);">Selecciona los couriers que ofreces. Tus clientes solo ver√°n estas opciones en el formulario.</p>
                    <div class="form-group">
                        <label><input type="checkbox" checked> Delivery Propio</label>
                        <label><input type="checkbox" checked> Shalom</label>
                        <label><input type="checkbox"> Olva</label>
                        <label><input type="checkbox"> Otro (pr√≥ximamente)</label>
                    </div>
                </div>

                <div class="card setting-card">
                    <h3><i data-feather="calendar"></i> Fechas y Horarios</h3>
                     <div class="form-group">
                        <label for="cutoffTime">Hora de Cierre de Pedidos</label>
                        <input type="time" id="cutoffTime" class="input">
                    </div>
                    <div class="form-group">
                         <label>D√≠as de Despacho Habilitados</label>
                         <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                            <label><input type="checkbox"> Lun</label>
                            <label><input type="checkbox" checked> Mar</label>
                            <label><input type="checkbox"> Mi√©</label>
                            <label><input type="checkbox" checked> Jue</label>
                            <label><input type="checkbox"> Vie</label>
                            <label><input type="checkbox" checked> S√°b</label>
                            <label><input type="checkbox"> Dom</label>
                         </div>
                    </div>
                </div>

                <div class="card setting-card">
                    <h3><i data-feather="users"></i> Gesti√≥n de Equipo</h3>
                    <p style="font-size:14px; color:var(--muted);">Invita a miembros de tu equipo para gestionar los env√≠os (Funci√≥n del Plan Consolidado).</p>
                    <button class="btn ghost" disabled><i data-feather="plus"></i>Invitar Usuario</button>
                </div>
            </div>
            <div style="display:flex; justify-content: flex-end; margin-top: 20px;">
                <button class="btn primary" id="btnGuardarConfig"><i data-feather="save"></i>Guardar Cambios</button>
            </div>
        </section>
        
        <footer>
            <span>Powered by</span>
            <svg height="20" viewBox="0 0 90 22" xmlns="http://www.w3.org/2000/svg">
                <text x="0" y="18" style="font-family: Quicksand, sans-serif; font-size: 20px; font-weight: 700; fill: rgb(217, 107, 79);">Latam5S</text>
            </svg>
        </footer>
    </main>

    <div class="toast" id="toast">Acci√≥n aplicada</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    feather.replace();

    // --- NAVEGACI√ìN PRINCIPAL ---
    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('main > section');

    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const targetId = link.getAttribute('href').substring(1);
            
            navLinks.forEach(l => l.classList.remove('active'));
            link.classList.add('active');

            sections.forEach(sec => {
                sec.classList.toggle('active', sec.id === targetId);
            });
        });
    });

    // --- SECCI√ìN ENV√çOS ---
    const filtroTipo = document.getElementById('filtroTipo');
    const filtroCliente = document.getElementById('filtroCliente');
    const filtroFecha = document.getElementById('filtroFecha');
    const btnAplicarFiltros = document.getElementById('btnAplicarFiltros');
    const tbody = document.getElementById('tbodyEnvios');
    const checkTodos = document.getElementById('checkTodos');
    const thCheckTodos = document.getElementById('thCheckTodos');
    const selCount = document.getElementById('selCount');
    const accionLote = document.getElementById('accionLote');
    const fechaReprog = document.getElementById('fechaReprog');
    const btnAplicarLote = document.getElementById('btnAplicarLote');
    
    // Datos de ejemplo
    const sampleData = [
        { id: 1, tipo: "SHALOM", cliente: "912345678", fechaEnvio: "2025-08-20", fechaReg: "2025-08-18", nombre: "Mar√≠a L√≥pez", dni: "87654321", agencia: "Lima / Lima / Chorrillos", estado: "ENVIADO" },
        { id: 2, tipo: "DELIVERY", cliente: "987654321", fechaEnvio: "2025-08-22", fechaReg: "2025-08-20", nombre: "Juan P√©rez", distrito: "Miraflores", direccion: "Av. Principal 123", estado: "PENDIENTE" },
        { id: 3, tipo: "OLVA", cliente: "911223344", fechaEnvio: "2025-08-25", fechaReg: "2025-08-22", nombre: "Luc√≠a Guti√©rrez", dni: "75342190", agencia: "Lima / Lima / Los Olivos", estado: "PENDIENTE" },
        { id: 4, tipo: "DELIVERY", cliente: "987111222", fechaEnvio: "2025-08-26", fechaReg: "2025-08-23", nombre: "Rosa Valdivia", distrito: "San Miguel", direccion: "Av. Universitaria 240", estado: "ENTREGADO" },
        { id: 5, tipo: "SHALOM", cliente: "988667755", fechaEnvio: "2025-08-29", fechaReg: "2025-08-26", nombre: "Valeria Campos", dni: "78451236", agencia: "Piura / Piura / Castilla", estado: "REPROGRAMADO" },
    ];
    
    function renderTable(data) {
        tbody.innerHTML = '';
        if (data.length === 0) {
             tbody.innerHTML = '<tr><td colspan="11" style="text-align:center;padding:40px;color:var(--muted);">No hay env√≠os que coincidan con los filtros.</td></tr>';
             return;
        }
        data.forEach(item => {
            const row = document.createElement('tr');
            row.dataset.id = item.id; // Asignar ID √∫nico a la fila
            row.dataset.tipo = item.tipo;
            row.dataset.cliente = item.cliente;
            row.dataset.fechaenvio = item.fechaEnvio;
            
            const badgeMap = {
                "PENDIENTE": '<span class="badge b-pendiente">Pendiente</span>',
                "ENVIADO": '<span class="badge b-enviado">Enviado</span>',
                "ENTREGADO": '<span class="badge b-entregado">Entregado</span>',
                "REPROGRAMADO": '<span class="badge b-reprogramado">Reprogramado</span>',
            };

            row.innerHTML = `
                <td><input type="checkbox" class="rowCheck" /></td>
                <td class="nowrap">${item.fechaReg}</td>
                <td>${item.cliente}</td>
                <td>${item.tipo}</td>
                <td>${item.nombre}</td>
                <td class="col-distrito">${item.distrito || '-'}</td>
                <td class="col-direccion">${item.direccion || '-'}</td>
                <td class="col-dni">${item.dni || '-'}</td>
                <td class="col-agencia">${item.agencia || '-'}</td>
                <td class="nowrap">${item.fechaEnvio}</td>
                <td class="estado">${badgeMap[item.estado] || item.estado}</td>
            `;
            tbody.appendChild(row);
        });
    }

    function aplicarFiltros() {
        const tipo = filtroTipo.value;
        const cel = filtroCliente.value.trim().toLowerCase();
        const fecha = filtroFecha.value;
        
        // 1. Filtrar los datos primero
        const filteredData = sampleData.filter(item => {
            const okTipo = !tipo || item.tipo === tipo;
            const okCli = !cel || item.cliente.includes(cel);
            const okFec = !fecha || item.fechaEnvio === fecha;
            return okTipo && okCli && okFec;
        });
        
        // 2. Renderizar la tabla con los datos filtrados
        renderTable(filteredData);
        
        // 3. Ahora, aplicar la visibilidad de columnas a la tabla reci√©n renderizada
        document.querySelectorAll('.col-distrito,.col-direccion,.col-dni,.col-agencia').forEach(el => el.style.display = ''); // Resetear visibilidad
        
        if (tipo === 'DELIVERY') { 
            document.querySelectorAll('.col-dni,.col-agencia').forEach(el => el.style.display = 'none'); 
        } else if (tipo === 'SHALOM' || tipo === 'OLVA') { 
            document.querySelectorAll('.col-distrito,.col-direccion').forEach(el => el.style.display = 'none'); 
        }

        // 4. Deseleccionar todas las filas
        deseleccionarTodo();
    }

    function contarSeleccionados(){
        const count = tbody.querySelectorAll('.rowCheck:checked').length;
        selCount.textContent = `${count} seleccionados`;
    }
    function seleccionarTodo(checked){
        tbody.querySelectorAll('.rowCheck').forEach(cb => cb.checked = checked);
        thCheckTodos.checked = checked;
        checkTodos.checked = checked;
        contarSeleccionados();
    }
    function deseleccionarTodo(){ seleccionarTodo(false); }

    checkTodos.addEventListener('change', e => seleccionarTodo(e.target.checked));
    thCheckTodos.addEventListener('change', e => seleccionarTodo(e.target.checked));
    tbody.addEventListener('change', e => { if(e.target.classList.contains('rowCheck')) contarSeleccionados(); });
    
    accionLote.addEventListener('change', () => {
        fechaReprog.classList.toggle('oculto', accionLote.value !== 'REPROGRAMADO');
        if (accionLote.value !== 'REPROGRAMADO') fechaReprog.value = '';
    });

    btnAplicarLote.addEventListener('click', () => {
        const action = accionLote.value;
        if (!action){ showToast('Elige una acci√≥n en lote'); return; }
        if (action === 'REPROGRAMADO' && !fechaReprog.value){ showToast('Selecciona fecha para reprogramar'); return; }
        const seleccionados = [...tbody.querySelectorAll('.rowCheck:checked')];
        if (seleccionados.length === 0){ showToast('No hay env√≠os seleccionados'); return; }
        
        const selectedIds = seleccionados.map(cb => parseInt(cb.closest('tr').dataset.id, 10));

        // Actualizar los datos en el array principal
        selectedIds.forEach(id => {
            const item = sampleData.find(d => d.id === id);
            if (item) {
                if (action === 'REPROGRAMADO') {
                    item.estado = 'REPROGRAMADO';
                    item.fechaEnvio = fechaReprog.value;
                } else {
                    item.estado = action; // Aplica ENVIADO o ENTREGADO
                }
            }
        });

        showToast(`Acci√≥n aplicada a ${seleccionados.length} env√≠o(s)`);
        
        // Refrescar la tabla para mostrar los cambios
        aplicarFiltros();
    });
    
    btnAplicarFiltros.addEventListener('click', aplicarFiltros);

    // --- SECCI√ìN LINK M√ÅGICO ---
    const btnCopiarLink = document.getElementById('btnCopiarLink');
    const linkUnicoInput = document.getElementById('linkUnicoInput');
    btnCopiarLink.addEventListener('click', () => {
        navigator.clipboard.writeText(linkUnicoInput.value).then(() => {
            showToast('¬°Enlace copiado al portapapeles!');
        }).catch(err => {
            showToast('Error al copiar el enlace.');
        });
    });

    // --- SECCI√ìN MI CUENTA ---
    const businessNameInput = document.getElementById('businessName');
    const headerBusinessName = document.getElementById('headerBusinessName');
    const logoInput = document.getElementById('logoInput');
    const logoPreview = document.getElementById('logoPreview');
    const headerLogo = document.getElementById('headerLogo');
    const btnGuardarConfig = document.getElementById('btnGuardarConfig');

    businessNameInput.addEventListener('input', () => {
        headerBusinessName.textContent = businessNameInput.value || '[Nombre del emprendimiento]';
    });

    logoInput.addEventListener('change', function() {
        const file = this.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const imageUrl = e.target.result;
                logoPreview.src = imageUrl;
                logoPreview.style.display = "block";
                headerLogo.src = imageUrl;
                headerLogo.style.display = "block";
            };
            reader.readAsDataURL(file);
        }
    });

    btnGuardarConfig.addEventListener('click', () => {
        showToast('Configuraci√≥n guardada exitosamente.');
        // Aqu√≠ ir√≠a la l√≥gica para guardar los datos en el backend.
    });

    // --- UTILIDADES ---
    const toast = document.getElementById('toast');
    function showToast(msg){
        toast.textContent = msg;
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 2500);
    }

    // --- INICIALIZACI√ìN ---
    renderTable(sampleData);
    aplicarFiltros();
});
</script>
</body>
</html>



